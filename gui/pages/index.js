import httpRequest from '../ultis/axios';

import Head from 'next/head';
import Benefit from '../components/Home/Benefit';
import Sliders from '../components/Home/Sliders';
import Categories from '../components/Home/Categories';
import Products from '../components/Home/Products';
import Brands from '../components/Home/Brands';

export default function Home({ sliders, categories, products, suppliers }) {
    return (
        <div>
            <Head>
                <title>Create Next App</title>
                <meta name='description' content='Generated by create next app' />
                <link rel='icon' href='/favicon.ico' />
            </Head>

            <Sliders sliders={sliders} />
            <Benefit />
            <Categories categories={categories} />
            <Products products={products} />
            <Brands suppliers={suppliers} />
        </div>
    );
}

export async function getStaticProps() {
    const resSlider = await httpRequest.get('/sliders');
    const sliders = await resSlider.data;

    const resCate = await httpRequest.get('/categories/v1');
    const categories = await resCate.data;

    const resProducts = await httpRequest.get('/products/v1');
    const products = await resProducts.data;

    const resSuppliers = await httpRequest.get('/suppliers/v1');
    const suppliers = await resSuppliers.data;

    return {
        props: {
            sliders,
            categories,
            products,
            suppliers,
        },
    };
}
